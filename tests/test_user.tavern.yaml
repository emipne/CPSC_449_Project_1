################### POSTING ######################

###### Create a new user #####
test_name: Create a new user
stages:
  - name: Make sure we are getting success response after registering

    request:
      url: http://localhost:2015/users/register
      method: POST
      json:
        username: tex
        email: tex@animalcrossing.com
      headers:
        content-type: application/json

    # The expected response code 201
    response:
      status_code: 201

##### Update user's email #####
test_name: Update user's email
stages:
  - name: Make sure we are getting success response after updating valid user's email

    request:
      url: http://localhost:2015/users/update_email
      method: PUT
      json:
        username: tex
        email: newTex@animalcrossing.com
      headers:
        content-type: application/json
    
    response:
      status_code: 200

##### Update user's email ######
test_name: Update a non-existing user's email
stages:
  - name: Make sure we are getting an error after trying to update an invalid user's email

    request:
      url: http://localhost:2015/users/update_email
      method: PUT
      json:
        username: fake
        email: faker@animalcrossing.com
      headers:
        content-type: application/json
      
    response:
      status_code: 404